<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表 | Aotu.io「凹凸实验室」</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="凹凸实验室"><meta name="designer" content="凹凸实验室"><meta name="rating" content="general"><meta name="format-detection" content="telephone=yes"><meta name="robots" content="index, follow"><meta baidu-gxt-verify-token="2b74a5aea155a215abea8547f929190c"><meta name="keywords" content="Vue,NodeJS,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="https://aotu.io/notes/2016/10/13/vue2/index.html"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon-48x48.png"><link rel="manifest" href="/img/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#2f83cd"><meta name="application-name" content="Aotu.io"><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/img/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/img/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Aotu.io"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/img/mstile-144x144.png"><meta name="msapplication-config" content="/img/browserconfig.xml"><meta property="wb:webmaster" content="a1686eb81db284d5"><link rel="dns-prefetch" href="//storage.360buyimg.com"><link rel="dns-prefetch" href="//img10.360buyimg.com"><link rel="dns-prefetch" href="//img11.360buyimg.com"><link rel="dns-prefetch" href="//img12.360buyimg.com"><link rel="dns-prefetch" href="//img13.360buyimg.com"><link rel="dns-prefetch" href="//img14.360buyimg.com"><link rel="dns-prefetch" href="//img20.360buyimg.com"><link rel="dns-prefetch" href="//img30.360buyimg.com"><link rel="dns-prefetch" href="//misc.aotu.io"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io"><meta name="description" content="Jinkey原创感谢 showonne、yubang 技术指导Demo 地址: http://demo.jinkey.io/vue2源码:https://github.com/Jinkeycode/vue2-example  什么是 VueVue 是一个前端框架，特点是 数据绑定  比如你改变一个输入框 Input 标签的值，会自动同步更新到页面上其他绑定该输入框的组件的值￼  组件化  页面上"><meta name="keywords" content="NodeJS,Vue"><meta property="og:type" content="article"><meta property="og:title" content="Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表"><meta property="og:url" content="https://aotu.io/notes/2016/10/13/vue2/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="Jinkey原创感谢 showonne、yubang 技术指导Demo 地址: http://demo.jinkey.io/vue2源码:https://github.com/Jinkeycode/vue2-example  什么是 VueVue 是一个前端框架，特点是 数据绑定  比如你改变一个输入框 Input 标签的值，会自动同步更新到页面上其他绑定该输入框的组件的值￼  组件化  页面上"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-17-43.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-10-59-15.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-36-06.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-05-21.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-04-54-29.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-15-12.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-43-24.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-44-22.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-48-35.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-47-39.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-49-05.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-49-55.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-58-14.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-35-12.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-32-42.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-35-51.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-22-41-49.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-10-33.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-11-14.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-49-24.jpg"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-32-49.png"><meta property="og:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-10-00-51-43.png"><meta property="og:updated_time" content="2021-02-02T07:48:05.238Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表"><meta name="twitter:description" content="Jinkey原创感谢 showonne、yubang 技术指导Demo 地址: http://demo.jinkey.io/vue2源码:https://github.com/Jinkeycode/vue2-example  什么是 VueVue 是一个前端框架，特点是 数据绑定  比如你改变一个输入框 Input 标签的值，会自动同步更新到页面上其他绑定该输入框的组件的值￼  组件化  页面上"><meta name="twitter:image" content="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-17-43.png"><meta name="twitter:site" content="o2circle"><script>var App={root:"/",isHome:!1,isCate:!1,isTag:!1}</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/index.html" title="Aotu.io">Aotu.io</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"><ul class="mod-nav-list"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item"><a target="_blank" href="https://geeks.aotu.io" class="main-nav-link">极客沙龙</a></li><li class="main-nav-item"><a href="https://cases.aotu.io" class="main-nav-link">H5案例</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li><li class="main-nav-item"><a href="/join/" class="main-nav-link">加入我们</a></li></ul></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="//misc.aotu.io/Jinkeycode/2016/vue2_cover.jpg" alt="Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表"></div><header class="post-hd"><h1 class="post-tit">Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表</h1><div class="post-meta">by <a target="_blank" href="https://github.com/Jinkeycode" class="post-author">Jinkey</a> on <span>2016-10-13</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>这是一篇基于Vue2.0的新手入门文章，通过Demo实例介绍了Vue2.0的环境搭建及展示豆瓣的电影列表的过程。</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><blockquote><p>Jinkey原创<br>感谢 <a href="https://github.com/showonne" target="_blank" rel="noopener">showonne</a>、<a href="https://github.com/yubang" target="_blank" rel="noopener">yubang</a> 技术指导<br><strong>Demo 地址:</strong><br><a href="http://demo.jinkey.io/vue2" target="_blank" rel="noopener">http://demo.jinkey.io/vue2</a><br><strong>源码:</strong><br><a href="https://github.com/Jinkeycode/vue2-example" target="_blank" rel="noopener">https://github.com/Jinkeycode/vue2-example</a></p></blockquote><h2 id="什么是-Vue" class="post-heading"><a href="#什么是-Vue" class="headerlink" title="什么是 Vue"></a>什么是 Vue<a class="post-anchor" href="#什么是-Vue" aria-hidden="true"></a></h2><p>Vue 是一个前端框架，特点是</p><p><strong>数据绑定</strong></p><blockquote><p>比如你改变一个输入框 Input 标签的值，会<strong>自动同步</strong>更新到页面上其他绑定该输入框的组件的值<br>￼<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-17-43.png" alt="数据绑定"></p></blockquote><p><strong>组件化</strong></p><blockquote><p>页面上小到一个按钮都可以是一个单独的文件.vue，这些小组件直接可以像乐高积木一样通过互相引用而组装起来</p></blockquote><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-10-59-15.jpg" alt="组件化"><br>￼</p><h2 id="Vue2-0-推荐开发环境" class="post-heading"><a href="#Vue2-0-推荐开发环境" class="headerlink" title="Vue2.0 推荐开发环境"></a>Vue2.0 推荐开发环境<a class="post-anchor" href="#Vue2-0-推荐开发环境" aria-hidden="true"></a></h2><p>￼<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-36-06.png" alt="开发环境解释"></p><p>Homebrew 1.0.6(Mac)、Node.js 6.7.0、npm 3.10.3、webpack 1.13.2、vue-cli 2.4.0、Atom 1.10.2</p><h2 id="安装环境" class="post-heading"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境<a class="post-anchor" href="#安装环境" aria-hidden="true"></a></h2><p>打开终端运行以下命令</p><h3 id="安装brew" class="post-heading"><a href="#安装brew" class="headerlink" title="安装brew"></a>安装brew<a class="post-anchor" href="#安装brew" aria-hidden="true"></a></h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/usr/</span>bin<span class="regexp">/ruby -e "$(curl -fsSL https:/</span><span class="regexp">/raw.githubusercontent.com/</span>Homebrew<span class="regexp">/install/m</span>aster<span class="regexp">/install)"</span></span><br></pre></td></tr></table></figure><h3 id="安装-nodejs" class="post-heading"><a href="#安装-nodejs" class="headerlink" title="安装 nodejs"></a>安装 nodejs<a class="post-anchor" href="#安装-nodejs" aria-hidden="true"></a></h3><blockquote><p>brew install nodejs</p></blockquote><p>用 npm install <a href="mailto:npm@3.10.3" target="_blank" rel="noopener">npm@3.10.3</a> 更新 npm 版本报错:</p><blockquote><p>(node:42) fs: re-evaluating native module sources is not supported.</p></blockquote><p>解决办法:</p><p>在官网下载6.70的安装包再安装一次(刚刚相当于帮你配置好环境变量，现在再安装一次升级到最新的 npm)</p><blockquote><ul><li>好像以前官网的安装包不会自动配置环境变量的，由于我电脑上之前安装过 nodejs 所以环境变量已经配置好了，不知道现在的安装包会不会自动配置环境变量。</li></ul></blockquote><p>Windows 下直接下载安装包即可</p><h3 id="获取nodejs模块安装目录访问权限" class="post-heading"><a href="#获取nodejs模块安装目录访问权限" class="headerlink" title="获取nodejs模块安装目录访问权限"></a>获取nodejs模块安装目录访问权限<a class="post-anchor" href="#获取nodejs模块安装目录访问权限" aria-hidden="true"></a></h3><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod -R <span class="number">777</span> /usr/local/<span class="class"><span class="keyword">lib</span>/<span class="title">node_modules</span>/</span></span><br></pre></td></tr></table></figure><h3 id="安装淘宝镜像" class="post-heading"><a href="#安装淘宝镜像" class="headerlink" title="安装淘宝镜像"></a>安装淘宝镜像<a class="post-anchor" href="#安装淘宝镜像" aria-hidden="true"></a></h3><blockquote><p>npm install -g cnpm –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p></blockquote><h3 id="安装webpack" class="post-heading"><a href="#安装webpack" class="headerlink" title="安装webpack"></a>安装webpack<a class="post-anchor" href="#安装webpack" aria-hidden="true"></a></h3><blockquote><p>cnpm install webpack -g</p></blockquote><h3 id="安装vue脚手架" class="post-heading"><a href="#安装vue脚手架" class="headerlink" title="安装vue脚手架"></a>安装vue脚手架<a class="post-anchor" href="#安装vue脚手架" aria-hidden="true"></a></h3><blockquote><p>npm install vue-cli -g</p></blockquote><h3 id="在硬盘上找一个文件夹放工程用的，在终端中进入该目录" class="post-heading"><a href="#在硬盘上找一个文件夹放工程用的，在终端中进入该目录" class="headerlink" title="在硬盘上找一个文件夹放工程用的，在终端中进入该目录"></a>在硬盘上找一个文件夹放工程用的，在终端中进入该目录<a class="post-anchor" href="#在硬盘上找一个文件夹放工程用的，在终端中进入该目录" aria-hidden="true"></a></h3><p>Mac</p><blockquote><p>cd 目录路径</p></blockquote><h3 id="根据模板创建项目" class="post-heading"><a href="#根据模板创建项目" class="headerlink" title="根据模板创建项目"></a>根据模板创建项目<a class="post-anchor" href="#根据模板创建项目" aria-hidden="true"></a></h3><blockquote><p>vue init webpack-simple 工程名字&lt;工程名字不能用中文&gt;</p></blockquote><p>或者创建 vue1.0 的项目</p><blockquote><p>vue init webpack-simple#1.0 工程名字&lt;工程名字不能用中文&gt;</p></blockquote><p>会有一些初始化的设置，如下输入:</p><p><code>Target directory exists. Continue? (Y/n)</code>直接回车默认(然后会下载 vue2.0模板，这里可能需要连代理)<br><code>Project name (vue-test)</code>直接回车默认<br><code>Project description (A Vue.js project)</code> 直接回车默认<br><code>Author</code> 写你自己的名字</p><h3 id="cd-命令进入创建的工程目录" class="post-heading"><a href="#cd-命令进入创建的工程目录" class="headerlink" title="cd 命令进入创建的工程目录"></a>cd 命令进入创建的工程目录<a class="post-anchor" href="#cd-命令进入创建的工程目录" aria-hidden="true"></a></h3><p>工程目录如图所示:</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-05-21.jpg" alt></p><h2 id="安装项目依赖" class="post-heading"><a href="#安装项目依赖" class="headerlink" title="安装项目依赖"></a>安装项目依赖<a class="post-anchor" href="#安装项目依赖" aria-hidden="true"></a></h2><p>一定要从官方仓库安装，npm 服务器在国外所以这一步安装速度会很慢。</p><blockquote><p>npm install</p></blockquote><p><strong>不要从国内镜像cnpm安装</strong>(会导致后面缺了很多依赖库)</p><blockquote><p>cnpm install</p></blockquote><h3 id="安装-vue-路由模块vue-router和网络请求模块vue-resource" class="post-heading"><a href="#安装-vue-路由模块vue-router和网络请求模块vue-resource" class="headerlink" title="安装 vue 路由模块vue-router和网络请求模块vue-resource"></a>安装 vue 路由模块<code>vue-router</code>和网络请求模块<code>vue-resource</code><a class="post-anchor" href="#安装-vue-路由模块vue-router和网络请求模块vue-resource" aria-hidden="true"></a></h3><blockquote><p>cnpm install vue-router vue-resource –save</p></blockquote><h3 id="启动项目" class="post-heading"><a href="#启动项目" class="headerlink" title="启动项目"></a>启动项目<a class="post-anchor" href="#启动项目" aria-hidden="true"></a></h3><blockquote><p>npm run dev</p></blockquote><h4 id="填坑-以下坑可能由于-vue2-0-导致其他相关编译打包工具没更新导致的" class="post-heading"><a href="#填坑-以下坑可能由于-vue2-0-导致其他相关编译打包工具没更新导致的" class="headerlink" title="填坑(以下坑可能由于 vue2.0 导致其他相关编译打包工具没更新导致的)"></a><strong>填坑(以下坑可能由于 vue2.0 导致其他相关编译打包工具没更新导致的)</strong><a class="post-anchor" href="#填坑-以下坑可能由于-vue2-0-导致其他相关编译打包工具没更新导致的" aria-hidden="true"></a></h4><blockquote><p><strong>【重点】后来发现这些坑是由于 npm 不是最新的版本3.10.2， 用 npm 3.9.5就会出现以下坑</strong><br>解决办法: 请运行以下命令<br><strong>npm update -g</strong></p></blockquote><p>报错</p><blockquote><p>Error: Cannot find module ‘opn’<br>Error: Cannot find module ‘webpack-dev-middleware’<br>Error: Cannot find module ‘express’<br>Error: Cannot find module ‘compression’<br>Error: Cannot find module ‘sockjs’<br>Error: Cannot find module ‘spdy’<br>Error: Cannot find module ‘http-proxy-middleware’<br>Error: Cannot find module ‘serve-index’</p></blockquote><p>如果你用的是老版本的 vue-cli 还可能报其他错误，需要更新一下 vue-cli</p><blockquote><p>npm update vue-cli</p></blockquote><p>然后可以查看一下当前全局 vue-cli 的版本</p><blockquote><p>npm view vue-cli</p></blockquote><p>安装一下这个依赖到工程开发环境</p><blockquote><p>cnpm install opn –save-dev<br>cnpm install webpack-dev-middleware –save-dev<br>cnpm install express –save-dev<br>cnpm install compression –save-dev<br>cnpm install sockjs –save-dev<br>cnpm install spdy –save-dev<br>cnpm install http-proxy-middleware –save-dev<br>cnpm install serve-index –save-dev<br>cnpm install connect-history-api-fallback –save-dev</p></blockquote><p>再启动项目，报错</p><blockquote><p>ERROR in ./src/main.js<br>Module build failed: Error: Cannot find module ‘babel-runtime/helpers/typeof’<br>at Function.Module._resolveFilename (module.js:440:15)<br>at Function.Module._load (module.js:388:25)<br>at Module.require (module.js:468:17)<br>at require (internal/module.js:20:19)<br>at Object.<anonymous>(/Volumes/MacStorage/Coding/Web/vue-test/node_modules/.6.17.0@babel-core/lib/transformation/file/index.js:6:16)<br>at Module._compile (module.js:541:32)<br>at Object.Module._extensions..js (module.js:550:10)<br>at Module.load (module.js:458:32)<br>at tryModuleLoad (module.js:417:12)<br>at Function.Module._load (module.js:409:3)<br>@ multi main<br>ERROR in ./~/.2.1.0-beta.8@webpack-dev-server/client/socket.js<br>Module not found: Error: Can’t resolve ‘sockjs-client’ in ‘/Volumes/MacStorage/Coding/Web/vue-test/node_modules/.2.1.0-beta.8@webpack-dev-server/client’<br>@ ./~/.2.1.0-beta.8@webpack-dev-server/client/socket.js 1:13-37<br>@ ./~/.2.1.0-beta.8@webpack-dev-server/client?<a href="http://localhost:8080" target="_blank" rel="noopener">http://localhost:8080</a><br>@ multi main</anonymous></p></blockquote><p>安装一下 babel-runtime</p><blockquote><p>cnpm install babel-helpers –save-dev</p></blockquote><p>启动项目，再次报错</p><blockquote><p>Module build failed: Error: Cannot find module ‘babel-helpers’<br>Module build failed: Error: Cannot find module ‘babel-traverse’<br>Module build failed: Error: Cannot find module ‘json5’<br>Module build failed: Error: Cannot find module ‘babel-generator’<br>Module build failed: Error: Cannot find module ‘detect-indent’<br>Module build failed: Error: Cannot find module ‘jsesc’</p></blockquote><p>找不到依赖那就再安装一下</p><blockquote><p>cnpm install babel-helpers –save-dev<br>cnpm install babel-traverse –save-dev<br>cnpm install json5 –save-dev<br>.<strong>..不写了，请把全部把旧的环境全部清除，更新到最新版本</strong></p></blockquote><h4 id="解决办法概述" class="post-heading"><a href="#解决办法概述" class="headerlink" title="解决办法概述"></a>解决办法概述<a class="post-anchor" href="#解决办法概述" aria-hidden="true"></a></h4><p>遇到</p><blockquote><p>Module build failed: Error: Cannot find module ‘模块名’</p></blockquote><p>那就安装</p><blockquote><p>cnpm install 模块名 –save-dev(关于环境的，表现为npm run dev 启动不了)<br>cnpm install 模块名 –save(关于项目的，比如main.js，表现为npm run dev 成功之后控制台报错)<br>比如escape-string-regexp、strip-ansi、has-ansi、is-finite、emojis-list</p></blockquote><h4 id="终于可以启动项目了" class="post-heading"><a href="#终于可以启动项目了" class="headerlink" title="终于可以启动项目了"></a>终于可以启动项目了<a class="post-anchor" href="#终于可以启动项目了" aria-hidden="true"></a></h4><p>输入完命令会自动启动浏览器，如果默认打开 IE 不行</p><blockquote><p>npm run dev</p></blockquote><p>自动启动浏览器就会看到这 帅帅的界面了。<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-04-54-29.png" alt></p><h2 id="开始-Vue-之旅" class="post-heading"><a href="#开始-Vue-之旅" class="headerlink" title="开始 Vue 之旅"></a>开始 Vue 之旅<a class="post-anchor" href="#开始-Vue-之旅" aria-hidden="true"></a></h2><h3 id="打开-IDE" class="post-heading"><a href="#打开-IDE" class="headerlink" title="打开 IDE"></a>打开 IDE<a class="post-anchor" href="#打开-IDE" aria-hidden="true"></a></h3><p>推荐 Atom 打开项目，需要安装 Vue 语法高亮的插件</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-15-12.jpg" alt></p><h3 id="使用官网文档学习基础" class="post-heading"><a href="#使用官网文档学习基础" class="headerlink" title="使用官网文档学习基础"></a>使用官网文档学习基础<a class="post-anchor" href="#使用官网文档学习基础" aria-hidden="true"></a></h3><p>我们来看官网的一个例子，(中文文档请自行上网搜索)</p><p>￼<img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-43-24.jpg" alt></p><p>打开 工程目录下的 App.vue</p><p>template 写 html，script写 js，style写样式</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-44-22.jpg" alt></p><p>为了方便叙述，我们把官网例子写在同一个组件内</p><p>这里有两个坑:</p><p><strong>第一</strong>。一个组件下只能有一个并列的 div，可以这么写，所以复制官网示例的时候只要复制 div 里面的内容就好。</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-48-35.jpg" alt></p><p>但是不能这样写:</p><p>￼<img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-47-39.jpg" alt></p><p><strong>第二</strong>。数据要写在 return 里面而不是像文档那样子写</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-49-05.jpg" alt></p><p>错误的写法:</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-49-55.jpg" alt></p><p>这样子可以自己啃完官网文档组件之前的部分了。</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-11-58-14.png" alt></p><h3 id="来玩玩组件" class="post-heading"><a href="#来玩玩组件" class="headerlink" title="来玩玩组件"></a>来玩玩组件<a class="post-anchor" href="#来玩玩组件" aria-hidden="true"></a></h3><p>前面讲得基本上都是各种常用组件的数据绑定，下面还得说说的是 Vue 的组件的使用。</p><p>在工程目录<code>/src</code>下创建<code>component</code>文件夹，并在<code>component</code>文件夹下创建一个 <code>firstcomponent.vue</code>并写仿照 App.vue 的格式和前面学到的知识写一个组件。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"firstcomponent"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>I am a title.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span>&gt;</span> written by &#123;&#123; author &#125;&#125; <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    data () &#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            author: <span class="string">"微信公众号 jinkey-love"</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>duang… 不能按官网文档那样子叫我做就做，我得先试试再告诉你，我做完效果是这样子的，希望观众做完也是这样子。(迷之微笑 )</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-35-12.jpg" alt></p><p>然后在 App.vue 使用组件 ( 因为在 <code>index.html</code> 里面定义了</p><div id="app"></div>所以就以这个组件作为主入口，方便 )<p></p><p><strong>第一步，引入</strong>。在<code>&lt;script&gt;&lt;/script&gt;</code>标签内的第一行写</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> firstcomponent <span class="keyword">from</span> <span class="string">'./component/firstcomponent.vue'</span></span><br></pre></td></tr></table></figure><p><strong>第二步，注册</strong>。在<code>&lt;script&gt;&lt;/script&gt;</code>标签内的 data 代码块后面加上 components: { firstcomponent }。<strong>记得中间加英文逗号!!!</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">           msg: <span class="string">'Hello Vue!'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123; firstcomponent &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>第三步，使用</strong>。</p><p>在<code>&lt;template&gt;&lt;/template&gt;</code>内加上<firstcomponent></firstcomponent></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">firstcomponent</span>&gt;</span><span class="tag">&lt;/<span class="name">firstcomponent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>完成后的代码：</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-32-42.jpg" alt></p><p>这时候看看浏览器上的 <code>http://localhost:8080/</code> 页面(之前打开过就会自动刷新)，如果你没看到效果是因为你没有对 <code>App.vue</code> 和 <code>firstcomponent.vue</code> 进行保存操作，保存后页面会自动刷新。<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-06-12-35-51.png" alt></p><h3 id="使用路由搭建单页应用" class="post-heading"><a href="#使用路由搭建单页应用" class="headerlink" title="使用路由搭建单页应用"></a>使用路由搭建单页应用<a class="post-anchor" href="#使用路由搭建单页应用" aria-hidden="true"></a></h3><p>之前已经通过命令安装了vue-router</p><blockquote><p>cnpm install vue-router –save</p></blockquote><p>在<code>webpack.config.js</code>加入别名</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    alias: &#123;<span class="attr">vue</span>: <span class="string">'vue/dist/vue.js'</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为什么要加 alias 配置项？其作用可以在文档中有相应的描述:<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-22-41-49.jpg" alt></p><p>修改完之后的<code>webpack.config.js</code>是这样子的:<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">    publicPath: <span class="string">'/dist/'</span>,</span><br><span class="line">    filename: <span class="string">'build.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  resolveLoader: &#123;</span><br><span class="line">    root: path.join(__dirname, <span class="string">'node_modules'</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [&#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.vue$/</span>,</span><br><span class="line">      loader: <span class="string">'vue'</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.js$/</span>,</span><br><span class="line">      loader: <span class="string">'babel'</span>,</span><br><span class="line">      exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.(png|jpg|gif|svg)$/</span>,</span><br><span class="line">      loader: <span class="string">'file'</span>,</span><br><span class="line">      query: &#123;</span><br><span class="line">        name: <span class="string">'[name].[ext]?[hash]'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue: <span class="string">'vue/dist/vue.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">    noInfo: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devtool: <span class="string">'#eval-source-map'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports.devtool = <span class="string">'#source-map'</span></span><br><span class="line">    <span class="comment">// http://vue-loader.vuejs.org/en/workflow/production.html</span></span><br><span class="line">  <span class="built_in">module</span>.exports.plugins = (<span class="built_in">module</span>.exports.plugins || []).concat([</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line">        NODE_ENV: <span class="string">'"production"'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>再按之前的方法写一个组件 secondcomponent.vue</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"secondcomponent"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>I am another page<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span>&gt;</span> written by &#123;&#123; author &#125;&#125; <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span> 感谢 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/showonne"</span>&gt;</span>showonne<span class="tag">&lt;/<span class="name">a</span>&gt;</span>大神的技术指导<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    data() &#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            author: <span class="string">"微信公众号 jinkey-love"</span>,</span></span><br><span class="line">            articles: [],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这时候修改 main.js，引入并注册 <code>vue-router</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">"vue-router"</span>;</span><br><span class="line">Vue.use(VueRouter);</span><br></pre></td></tr></table></figure><p>并且配置路由规则和 app 启动配置项加上 router，旧版的 router.map 方法在 <code>vue-router 2.0</code> 已经不能用了。修改后的<code>main.js</code>如下:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">"vue-router"</span>;</span><br><span class="line"><span class="keyword">import</span> VueResource <span class="keyword">from</span> <span class="string">'vue-resource'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//开启debug模式</span></span><br><span class="line">Vue.config.debug = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter);</span><br><span class="line">Vue.use(VueResource);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义组件, 也可以像教程之前教的方法从别的文件引入</span></span><br><span class="line"><span class="keyword">const</span> First = &#123;</span><br><span class="line">  template: <span class="string">'&lt;div&gt;&lt;h2&gt;我是第 1 个子页面&lt;/h2&gt;&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">import</span> secondcomponent <span class="keyword">from</span> <span class="string">'./component/secondcomponent.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个路由器实例</span></span><br><span class="line"><span class="comment">// 并且配置路由规则</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  mode: <span class="string">'history'</span>,</span><br><span class="line">  base: __dirname,</span><br><span class="line">  routes: [&#123;</span><br><span class="line">    path: <span class="string">'/first'</span>,</span><br><span class="line">    component: First</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    path: <span class="string">'/second'</span>,</span><br><span class="line">    component: secondcomponent</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 现在我们可以启动应用了！</span></span><br><span class="line"><span class="comment">// 路由器会创建一个 App 实例，并且挂载到选择符 #app 匹配的元素上。</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router: router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure><p>这样子改完再打开浏览器看看。<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-10-33.png" alt></p><p>点击那两个链接试试，会发现<code>&lt;router-view class=&quot;view&quot;&gt;&lt;/router-view&gt;</code>的内容已经展示出来，同时注意<strong>浏览器地址已经变更</strong>。<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-11-14.png" alt></p><p>另外，也可以把 App.vue 的内容写在 main.js 也是可以的不过不建议这么做<br><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-49-24.jpg" alt></p><p>如果你使用 vue1.0和0.7版本的 vue-router，请参照下面这个教程, 他整个系列都不错的，当然仅限于 vue1.0 :</p><blockquote><p><a href="http://guowenfh.github.io/2016/03/28/vue-webpack-06-router/" target="_blank" rel="noopener">http://guowenfh.github.io/2016/03/28/vue-webpack-06-router/</a></p></blockquote><h3 id="给页面加点动态数据" class="post-heading"><a href="#给页面加点动态数据" class="headerlink" title="给页面加点动态数据"></a>给页面加点动态数据<a class="post-anchor" href="#给页面加点动态数据" aria-hidden="true"></a></h3><p>这时候的页面都是静态的(数据在写程序的时候已经固定了不能修改)，而每个应用基本上都会请求外部数据以动态改变页面内容。对应有一个库叫 <code>vue-resource</code> 帮我们解决这个问题。</p><p>使用命令行安装</p><blockquote><p>cnpm install vue-resource –save</p></blockquote><p>在 main.js 引入并注册 <code>vue-resource</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> VueResource <span class="keyword">from</span> <span class="string">'vue-resource'</span></span><br><span class="line">Vue.use(VueResource);</span><br></pre></td></tr></table></figure><p>我们在 secondcomponent.vue 上来动态加载数据</p><p>添加一个列表:<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"article in articles"</span>&gt;</span></span><br><span class="line">        &#123;&#123;article.title&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>在 data 里面加入数组 articles 并赋值为[]<br>然后在 data 后面加入加入钩子函数 <code>mounted</code>(详细请参照官方文档关于 vue 生命周期的解析)，<strong>data 和 mount 中间记得记得加逗号</strong><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mounted: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$http.jsonp(<span class="string">'https://api.douban.com/v2/movie/top250?count=10'</span>, &#123;&#125;, &#123;</span><br><span class="line">        headers: &#123;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        emulateJSON: <span class="literal">true</span></span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 这里是处理正确的回调</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.articles = response.data.subjects</span><br><span class="line">        <span class="comment">// this.articles = response.data["subjects"] 也可以</span></span><br><span class="line"></span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 这里是处理错误的回调</span></span><br><span class="line">        <span class="built_in">console</span>.log(response)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>这里使用的是豆瓣的公开 GET 接口，如果接口是跨域的 POST 请求，则需要在服务器端配置:</p><blockquote><p>Access-Control-Allow-Origin: *</p></blockquote><p>这时候运行看看。等一会接口返回数据，咦，数据加载出来了，棒棒哒 !</p><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-09-23-32-49.png" alt></p><p>更多 <code>vue-router</code> 的使用方法可以看</p><blockquote><p><strong>vue-router 0.7</strong><br><a href="http://m.doc00.com/doc/1001004eg" target="_blank" rel="noopener">http://m.doc00.com/doc/1001004eg</a><br><strong>vue-router 2.0</strong><br><a href="http://router.vuejs.org/zh-cn/index.html" target="_blank" rel="noopener">http://router.vuejs.org/zh-cn/index.html</a></p></blockquote><h3 id="来拯救如此难看的界面" class="post-heading"><a href="#来拯救如此难看的界面" class="headerlink" title="来拯救如此难看的界面"></a>来拯救如此难看的界面<a class="post-anchor" href="#来拯救如此难看的界面" aria-hidden="true"></a></h3><p>组件、双向绑定、路由、数据请求等基本特性都能用了，写到这里一个单页应用基本上成型了。但是，这几面也太 TM 难看了吧。自己写 UI 框架太费劲？那就上网找一个吧。<br>本来想给大家介绍 Vux 的，因为他用的是微信的 WeUI 设计规范，对于开发微信小程序或者微信内的网页非常和谐，但由于写这篇文章的时候 Vux 还不支持 vue2.0，只能用别的框架了。<br>命令行安装 ElementUI (此处某公司的人应该发红包了…)</p><blockquote><p>cnpm install element-ui@next -S</p></blockquote><p>然后在 main.js 引入并注册</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Element <span class="keyword">from</span> <span class="string">'element-ui'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'element-ui/lib/theme-default/index.css'</span></span><br><span class="line">Vue.use(Element)</span><br></pre></td></tr></table></figure><p>保存，这时候程序报错</p><blockquote><p>Uncaught Error: Module parse failed: /Users/**/Desktop/vue2/node_modules/.1.0.0-rc.5@element-ui/lib/theme-default/index.css Unexpected character ‘@’ (1:0)<br>You may need an appropriate loader to handle this file type.</p></blockquote><p>官网文档又有坑了，安装教程也不跟我们说这一步，当我们都是高手了…<br>报错是由于我们引入了<code>index.css</code>这个 CSS 文件，但是 webpack 打包的时候无法识别并转换成 js，所以就需要配置才能读取 css 和字体文件，运行命令安装下面三个东西(如果之前安装过就不需要了)</p><blockquote><p>cnpm install style-loader –save-dev<br>cnpm install css-loader –save-dev<br>cnpm install file-loader –save-dev</p></blockquote><p>在 <code>webpack.config.js</code> 中的 loaders 数组加入以下配置，<strong>记得该加逗号的地方加逗号!</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\\\\\\\\.css$/</span>,</span><br><span class="line">    loader: <span class="string">"style!css"</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\\\\\\\\.(eot|woff|woff2|ttf)([\\\\\\\\?]?.*)$/</span>,</span><br><span class="line">    loader: <span class="string">"file"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改完的 <code>webpack.config.js</code> 如下<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/main.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">    publicPath: <span class="string">'/dist/'</span>,</span><br><span class="line">    filename: <span class="string">'build.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  resolveLoader: &#123;</span><br><span class="line">    root: path.join(__dirname, <span class="string">'node_modules'</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    loaders: [&#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.vue$/</span>,</span><br><span class="line">      loader: <span class="string">'vue'</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.js$/</span>,</span><br><span class="line">      loader: <span class="string">'babel'</span>,</span><br><span class="line">      exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.css$/</span>,</span><br><span class="line">      loader: <span class="string">"style!css"</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.(eot|woff|woff2|ttf)([\\\\\\\\?]?.*)$/</span>,</span><br><span class="line">      loader: <span class="string">"file"</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">      test: <span class="regexp">/\\\\\\\\.(png|jpg|gif|svg)$/</span>,</span><br><span class="line">      loader: <span class="string">'file'</span>,</span><br><span class="line">      query: &#123;</span><br><span class="line">        name: <span class="string">'[name].[ext]?[hash]'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue: <span class="string">'vue/dist/vue.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: <span class="literal">true</span>,</span><br><span class="line">    noInfo: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devtool: <span class="string">'#eval-source-map'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'production'</span>) &#123;</span><br><span class="line">  <span class="built_in">module</span>.exports.devtool = <span class="string">'#source-map'</span></span><br><span class="line">    <span class="comment">// http://vue-loader.vuejs.org/en/workflow/production.html</span></span><br><span class="line">  <span class="built_in">module</span>.exports.plugins = (<span class="built_in">module</span>.exports.plugins || []).concat([</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line">        NODE_ENV: <span class="string">'"production"'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>给豆瓣的电影列表套个衣服(样式) :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-card</span> <span class="attr">class</span>=<span class="string">"box-card"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">"header"</span> <span class="attr">class</span>=<span class="string">"clearfix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"line-height: 36px; color: #20A0FF"</span>&gt;</span>豆瓣电影排行榜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"article in articles"</span> <span class="attr">class</span>=<span class="string">"text item"</span>&gt;</span></span><br><span class="line">        &#123;&#123;article.title&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-card</span>&gt;</span></span><br></pre></td></tr></table></figure><p>打开浏览器,输入网址:</p><blockquote><p><a href="http://localhost:8080/second" target="_blank" rel="noopener">http://localhost:8080/second</a></p></blockquote><p><img src="http://o8lot23ep.bkt.clouddn.com/_image/2016-10-10-00-51-43.png" alt></p><p>￼<br>列表比之前漂亮多了，你还可以参照 ElementUI 的文档使用更多组件样式</p><blockquote><p><a href="http://element.eleme.io/#/component/layout" target="_blank" rel="noopener">http://element.eleme.io/#/component/layout</a></p></blockquote><h2 id="编译" class="post-heading"><a href="#编译" class="headerlink" title="编译"></a>编译<a class="post-anchor" href="#编译" aria-hidden="true"></a></h2><blockquote><p>npm run build</p></blockquote><p>又报错了…orz</p><blockquote><p>ERROR in build.js from UglifyJs<br>SyntaxError: Unexpected token punc «(», expected punc «:» [build.js:32001,6]<br>把node_modules/.bin/cross-env里的<br>require(‘../dist’)(process.argv.slice(2));</p></blockquote><p>后来发现直接运行 webpack 命令就可以打包了</p><blockquote><p>webpack –color –progress</p></blockquote><p>接着把 index.html 和整个 dist 目录丢到服务器就可以了。</p><div class="post-tags" style="display:none"><a href="/tags/NodeJS/">NodeJS</a> <a href="/tags/Vue/">Vue</a></div><div class="post-categories" style="display:none"><a href="/cates/Web开发/">Web开发</a></div><div class="post-announce">感谢您的阅读，本文由 <a href="https://github.com/Jinkeycode">Jinkey</a> 原创提供。如若转载，请注明出处：凹凸实验室（<a href="/notes/2016/10/13/vue2/">https://aotu.io/notes/2016/10/13/vue2/</a>）</div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2021-02-02T07:48:05.238Z">上次更新：2021-02-02 15:48:05</time></div></div><div class="post-nav"><div class="post-nav-next"><a href="/notes/2016/10/19/css3-mask/" title="CSS3 Mask 安利报告">CSS3 Mask 安利报告 <i class="fa fa-chevron-right"></i></a></div><div class="post-nav-prev"><a href="/notes/2016/10/09/HTML5-SopCast/" title="H5直播起航"><i class="fa fa-chevron-left"></i> H5直播起航</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAxNi8xMC8xMy92dWUyLw==",owner:"o2team",repo:"o2team.github.io",title:"Vue2.0 新手完全填坑攻略——从环境搭建到展示豆瓣的电影列表",body:"https://aotu.io/notes/2016/10/13/vue2/index.html\n\n这是一篇基于Vue2.0的新手入门文章，通过Demo实例介绍了Vue2.0的环境搭建及展示豆瓣的电影列表的过程。",clientID:"3c4d153e6874260f9c7e",clientSecret:"dd44012504c6168bc05b9266e0554bb28c62ce15",admin:["Jinkeycode"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec aotuwx"><img class="aotuwx-qrcode" src="/img/qrcode.jpg" alt="关注我们"><div class="aotuwx-slogan">每周推送精选技术文章</div></div><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="//taro.jd.com" target="_blank" title="Taro">Taro</a></li><li><a href="//taro-ui.jd.com" target="_blank" title="Taro-UI">Taro-UI</a></li><li><a href="//taro-ext.jd.com" target="_blank" title="Taro 物料市场">Taro 物料市场</a></li><li><a href="//taro-club.jd.com" target="_blank" title="Taro 官方论坛">Taro 官方论坛</a></li><li><a href="//cases.aotu.io/mobi/maga.html" target="_blank" title="拇指期刊">拇指期刊</a></li><li><a href="//athena.aotu.io/" target="_blank" title="Athena">Athena</a></li><li><a href="//guide.aotu.io/" target="_blank" title="前端代码规范">前端代码规范</a></li><li><a href="//halojs.aotu.io/" target="_blank" title="HaloJS">HaloJS</a></li><li><a href="//sign.aotu.io/" target="_blank" title="邮件签名工具">邮件签名工具</a></li><li><a href="//mac.aotu.io/" target="_blank" title="MAC全栈环境">MAC全栈环境</a></li><li><a href="//xcel.aotu.io" target="_blank" title="Excel Filter">Excel Filter</a></li><li><a href="//aotu.jd.com/share/" target="_blank" title="凹凸公开课">凹凸公开课</a></li><li><a href="//at.aotu.io" target="_blank" title="AT-UI">AT-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>友情链接</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.cloudbase.net" target="_blank" title="小程序·云开发"><img style="width:22px;vertical-align:middle" src="https://img20.360buyimg.com/ling/jfs/t1/57175/5/15617/50216/5dca6729E00cdff5d/631622525425290e.png">小程序·云开发</a></li><li><a href="https://ling.jd.com" target="_blank" title="京东羚珑智能设计">羚珑智能设计</a></li><li><a href="https://jdrd.jd.com" target="_blank" title="京东零售设计服务平台">京东零售设计服务平台</a></li><li><a href="https://jdc.jd.com" target="_blank" title="京东设计中心">JDC京东设计中心</a></li><li><a href="http://dopro.io/" target="_blank" title="腾讯 Deep Ocean">Deep Ocean</a></li><li><a href="http://fex.baidu.com" target="_blank" title="百度Web前端研发部">百度FEX</a></li><li><a href="http://taobaofed.org" target="_blank" title="淘宝前端团队">淘宝FED</a></li><li><a href="http://tgideas.qq.com" target="_blank" title="腾讯互娱设计中心">TGIdeas</a></li><li><a href="http://isux.tencent.com" target="_blank" title="腾讯SNG设计中心">ISUX</a></li><li><a href="http://cdc.tencent.com" target="_blank" title="腾讯用户研究与体验设计中心">CDC</a></li><li><a href="http://ued.ctrip.com" target="_blank" title="携程设计委员会">携程UED</a></li><li><a href="https://uiiiuiii.com/" target="_blank" title="优优教程网">优优教程网</a></li><li><a href="https://www.designup.cn/" target="_blank" title="Designup">Designup</a></li><li><a href="http://eux.baidu.com/" target="_blank" title="百度EUX">百度EUX</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/o2team/o2team.github.io" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Designed by <a href="http://aotu.io" target="_blank">凹凸实验室</a> @<a target="_blank" href="http://jdc.jd.com">京东用户体验设计部</a></p><p>Copyright &copy; 2021. All Rights Reserved.</p><p><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备15077732号-2</a></p></div></div></footer><script src="/js/bundle/core.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/post_wx_share.js"></script><script src="/js/bundle/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>