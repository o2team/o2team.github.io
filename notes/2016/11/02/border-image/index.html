<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>border-image 的正确用法 | Aotu.io「凹凸实验室」</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="凹凸实验室"><meta name="designer" content="凹凸实验室"><meta name="rating" content="general"><meta name="format-detection" content="telephone=yes"><meta name="robots" content="index, follow"><meta baidu-gxt-verify-token="2b74a5aea155a215abea8547f929190c"><meta name="keywords" content="边框图片,css3 border-image,border image,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="https://aotu.io/notes/2016/11/02/border-image/index.html"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon-48x48.png"><link rel="manifest" href="/img/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#2f83cd"><meta name="application-name" content="Aotu.io"><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/img/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/img/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Aotu.io"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/img/mstile-144x144.png"><meta name="msapplication-config" content="/img/browserconfig.xml"><meta property="wb:webmaster" content="a1686eb81db284d5"><meta name="wechat-logo" content="http://misc.aotu.io/leeenx/border-image/share.png"><meta name="wechat-title" content="border-image 的正确用法"><meta name="wechat-desc" content="尽管经常使用 border-image，但我们真的了解它的吗？"><link rel="dns-prefetch" href="//storage.360buyimg.com"><link rel="dns-prefetch" href="//img10.360buyimg.com"><link rel="dns-prefetch" href="//img11.360buyimg.com"><link rel="dns-prefetch" href="//img12.360buyimg.com"><link rel="dns-prefetch" href="//img13.360buyimg.com"><link rel="dns-prefetch" href="//img14.360buyimg.com"><link rel="dns-prefetch" href="//img20.360buyimg.com"><link rel="dns-prefetch" href="//img30.360buyimg.com"><link rel="dns-prefetch" href="//misc.aotu.io"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io"><meta name="description" content="border-image 的正解用法border-image 边框图片，顾名思义: 指定边框使用的图片。尽管经常使用 border-image(-webkit-border-image)，但我们真的了解它的吗？ 本文分两部分来介绍 border-image：  border-image 简史 border-image 用法  1. border-image 简史CSS3 border 最开始是做"><meta name="keywords" content="border image,css3 border-image,边框图片"><meta property="og:type" content="article"><meta property="og:title" content="border-image 的正确用法"><meta property="og:url" content="https://aotu.io/notes/2016/11/02/border-image/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="border-image 的正解用法border-image 边框图片，顾名思义: 指定边框使用的图片。尽管经常使用 border-image(-webkit-border-image)，但我们真的了解它的吗？ 本文分两部分来介绍 border-image：  border-image 简史 border-image 用法  1. border-image 简史CSS3 border 最开始是做"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/pow.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/2016-10-28.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/2ia2uu.gif"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/box.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/result.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/qr.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-image-width.gif?v=4"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-image-area.gif"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-width.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-width2.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-width3.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/border-width4.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/demo3.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/qr2.png?v=1"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/demo2_1.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/demo2_2.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/demo2_3.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/demo2_4.jpg"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/stretch.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/repeat.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/round.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/space.png"><meta property="og:image" content="https://misc.aotu.io/leeenx/border-image/qr4.png"><meta property="og:updated_time" content="2021-02-02T07:48:05.238Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="border-image 的正确用法"><meta name="twitter:description" content="border-image 的正解用法border-image 边框图片，顾名思义: 指定边框使用的图片。尽管经常使用 border-image(-webkit-border-image)，但我们真的了解它的吗？ 本文分两部分来介绍 border-image：  border-image 简史 border-image 用法  1. border-image 简史CSS3 border 最开始是做"><meta name="twitter:image" content="https://misc.aotu.io/leeenx/border-image/pow.png"><meta name="twitter:site" content="o2circle"><script>var App={root:"/",isHome:!1,isCate:!1,isTag:!1}</script><script>window.WechatShareData={imgUrl:"http://misc.aotu.io/leeenx/border-image/share.png",link:window.location.href,title:"border-image 的正确用法",desc:"尽管经常使用 border-image，但我们真的了解它的吗？"},window.WechatJSSDKURL="https://aotu.jd.com/aotu-wx-api/api/wx/jssdk/signature"</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/index.html" title="Aotu.io">Aotu.io</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"><ul class="mod-nav-list"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item"><a target="_blank" href="https://geeks.aotu.io" class="main-nav-link">极客沙龙</a></li><li class="main-nav-item"><a href="https://cases.aotu.io" class="main-nav-link">H5案例</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li><li class="main-nav-item"><a href="/join/" class="main-nav-link">加入我们</a></li></ul></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="//misc.aotu.io/leeenx/border-image/cover_900x500.png?v=1" alt="border-image 的正确用法"></div><header class="post-hd"><h1 class="post-tit">border-image 的正确用法</h1><div class="post-meta">by <a target="_blank" href="https://github.com/leeenx" class="post-author">leeenx</a> on <span>2016-11-02</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>尽管经常使用 border-image，但我们真的了解它的吗？</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><a id="more"></a><h1 id="border-image-的正解用法" class="post-heading"><a href="#border-image-的正解用法" class="headerlink" title="border-image 的正解用法"></a>border-image 的正解用法<a class="post-anchor" href="#border-image-的正解用法" aria-hidden="true"></a></h1><p>border-image 边框图片，顾名思义: 指定边框使用的图片。<br>尽管经常使用 border-image(-webkit-border-image)，但我们真的了解它的吗？</p><p>本文分两部分来介绍 border-image：</p><ol><li>border-image 简史</li><li>border-image 用法</li></ol><h2 id="1-border-image-简史" class="post-heading"><a href="#1-border-image-简史" class="headerlink" title="1. border-image 简史"></a>1. border-image 简史<a class="post-anchor" href="#1-border-image-简史" aria-hidden="true"></a></h2><p>CSS3 border 最开始是做为一个独立模块(CSS3 module: Border)被维护，后来(2005.2.16) W3C工作组将 border 和 background 两个模块合并作为一个新模块：<strong>CSS3 Backgrounds and Borders Module</strong>，08年又将其改名为 <strong>CSS Backgrounds and Borders Module Level 3</strong>。以下是具体过程：</p><ul><li><strong>CSS3 module: Border</strong><br><a href="https://www.w3.org/TR/2002/WD-css3-border-20021107/" target="_blank" rel="noopener">W3C Working Draft 7 November 2002</a></li><li><strong>CSS3 Backgrounds and Borders Module</strong><br><a href="https://www.w3.org/TR/2005/WD-css3-background-20050216/" target="_blank" rel="noopener">W3C Working Draft 16 February 2005</a></li><li><strong>CSS Backgrounds and Borders Module Level 3</strong><br><a href="https://www.w3.org/TR/2008/WD-css3-background-20080910/" target="_blank" rel="noopener">W3C Working Draft 10 September 2008</a><br><a href="https://www.w3.org/TR/2009/WD-css3-background-20091015/" target="_blank" rel="noopener">W3C Working Draft 15 October 2009</a><br><a href="https://www.w3.org/TR/2009/CR-css3-background-20091217/" target="_blank" rel="noopener">W3C Candidate Recommendation 17 December 2009</a><br><a href="https://www.w3.org/TR/2010/WD-css3-background-20100612/" target="_blank" rel="noopener">W3C Working Draft 12 June 2010</a><br><a href="https://www.w3.org/TR/2011/CR-css3-background-20110215/" target="_blank" rel="noopener">W3C Candidate Recommendation 15 February 2011</a><br><a href="https://www.w3.org/TR/2012/WD-css3-background-20120214/" target="_blank" rel="noopener">W3C Working Draft 14 February 2012</a><br><a href="https://www.w3.org/TR/2012/CR-css3-background-20120417/" target="_blank" rel="noopener">W3C Candidate Recommendation 17 April 2012</a><br><a href="https://www.w3.org/TR/2012/CR-css3-background-20120724/" target="_blank" rel="noopener">W3C Candidate Recommendation 24 July 2012</a><br><a href="https://www.w3.org/TR/2014/WD-css3-background-20140204/" target="_blank" rel="noopener">W3C Last Call Working Draft 4 February 2014</a><br><a href="https://www.w3.org/TR/css3-background/" target="_blank" rel="noopener">W3C Candidate Recommendation 9 September 2014</a></li></ul><p>在 CSS3 border 的第一个工作草案(WD)『<a href="https://www.w3.org/TR/2002/WD-css3-border-20021107/" target="_blank" rel="noopener">W3C Working Draft 7 November 2002</a>』 定义了 border-image 的用法，经过漫长的十几年修订，border-image 经历了三次重要的演变：</p><h3 id="1-1-草创阶段" class="post-heading"><a href="#1-1-草创阶段" class="headerlink" title="1.1 草创阶段"></a>1.1 草创阶段<a class="post-anchor" href="#1-1-草创阶段" aria-hidden="true"></a></h3><blockquote><p>The border-image properties allow the author to assign images to borders. There are four groups of border image properties:<br>Specifying border images<br>These properties are used to specify the URI of the border image.<br>Fitting border images<br>These properties are used to specify how the image(s) are fitted in the border area.<br>Transforming border images<br>These properties are used to make the images of a side or a corner to be reflected or rotated versions of another.<br>The border image properties override the border style properties.<br>—— 摘录自：『<a href="https://www.w3.org/TR/2002/WD-css3-border-20021107/#the-border-image" target="_blank" rel="noopener">W3C Working Draft 7 November 2002 #the-border-image</a>』。</p></blockquote><p>此时的 border-image 由3组属性成，分别是：</p><ul><li>border-image/border-corner-image</li><li>border-fit/border-corner-fit</li><li>border-transform/border-corner-transform</li></ul><p>(ps: W3C 文档里提到有四组属性。不过笔者只找到上述三组)</p><p><strong>1. border-image/border-corner-image</strong><br>border-image 指定四边的图像，border-corner-image 指定四个角的图像，注意这里分开指定四条边和四个角的图片即需要使用8个图像。如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/pow.png" alt="W3C示例图"></p><p>另外，每条边都可以指定三张图片：<br><img src="//misc.aotu.io/leeenx/border-image/2016-10-28.png" alt="W3C示例图"></p><p><strong>2. border-fit/border-corner-fit</strong><br>指定 border-image/border-corner-image 的平铺方式。</p><p><strong>3.border-transform/border-corner-transform</strong><br>指定 border-image/border-corner-image 的变换方式。</p><p>具体可以参见：<a href="https://www.w3.org/TR/2002/WD-css3-border-20021107/#the-border-image" target="_blank" rel="noopener">https://www.w3.org/TR/2002/WD-css3-border-20021107/#the-border-image</a></p><p>这个古老的版本对 bordr-image 做了全面的定义，甚至比当前(2016.11.1)的标准还要周到详细，但是这个版本过于笨重，很快被 W3C 的新标准替代。</p><h3 id="1-2-发展阶段" class="post-heading"><a href="#1-2-发展阶段" class="headerlink" title="1.2 发展阶段"></a>1.2 发展阶段<a class="post-anchor" href="#1-2-发展阶段" aria-hidden="true"></a></h3><p>『<a href="https://www.w3.org/TR/2005/WD-css3-background-20050216/" target="_blank" rel="noopener">W3C Working Draft 16 February 2005</a>』对上个版本做了极大的精简工作，并重新定义了一个简洁的 border-image ，语法如下：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-image: none | &lt;uri&gt; [&lt;number&gt; | &lt;percentage&gt;]&#123;4&#125; [ / &lt;border-width&gt;&#123;1,4&#125; ]? [stretch | repeat | round]&#123;0,2&#125;</span><br></pre></td></tr></table></figure><blockquote><p>The four numbers or percentages immediately following the<uri>specify which part of that image is used for which part of the border. They divide the image into nine parts: four corners, four edges and a middle part. The middle part is used as an extra background image.<br>—— 摘录自：<a href="https://www.w3.org/TR/2005/WD-css3-background-20050216/#the-border-image" target="_blank" rel="noopener">https://www.w3.org/TR/2005/WD-css3-background-20050216/#the-border-image</a></uri></p></blockquote><p>这个版本提出了九宫格的概念(border-image的精髓)并提供了简洁的语法。 Chrome/Safari 私有的 <code>-webkit-border-image</code> 实现了这个版本的语法，并将其发扬光大。至今(2016.11.1)国内不少介绍 border-image 技术文章都是在介绍这个版本。</p><h3 id="1-3-成熟阶段" class="post-heading"><a href="#1-3-成熟阶段" class="headerlink" title="1.3 成熟阶段"></a>1.3 成熟阶段<a class="post-anchor" href="#1-3-成熟阶段" aria-hidden="true"></a></h3><p>修订版 『<a href="https://www.w3.org/TR/2009/WD-css3-background-20091015/" target="_blank" rel="noopener">W3C Working Draft 15 October 2009</a>』在上个版本的基础上将 border-image 分拆成 border-image-<em> 家族，同时加入一个新的成员 border-image-outset。border-image-</em> 成员如下：</p><ul><li>border-image-source</li><li>border-image-slice</li><li>border-image-width</li><li>border-image-outset</li><li>border-image-repeat</li></ul><p>border-image 成为上述五个属性的简写，语法也从此稳定下来，俨然已是一个正式的 W3C 标准(REC)。</p><h2 id="2-border-image-的正确用法" class="post-heading"><a href="#2-border-image-的正确用法" class="headerlink" title="2. border-image 的正确用法"></a>2. border-image 的正确用法<a class="post-anchor" href="#2-border-image-的正确用法" aria-hidden="true"></a></h2><blockquote><p>Authors can specify an image to be used in place of the border styles. In this case, the border’s design is taken from the sides and corners of an image specified with ‘border-image-source’, whose pieces may be sliced, scaled and stretched in various ways to fit the size of the border image area. The border-image properties do not affect layout: layout of the box, its content, and surrounding content is based on the ‘border-width’ and ‘border-style’ properties only.<br>—— 摘录自： <a href="https://www.w3.org/TR/css3-background/#border-images" target="_blank" rel="noopener">https://www.w3.org/TR/css3-background/#border-images</a></p></blockquote><p>border-image 通过指定一张图片来取替 border-style 定义的样式，但 <strong>border-image 生效的前提是： border-style 和 border-width 同时为有效值(即 border-style 不为 none，border-width 不为 0)。</strong></p><p>本章按 『<a href="https://www.w3.org/TR/css3-background/" target="_blank" rel="noopener">W3C Candidate Recommendation 9 September 2014</a>』规范来介绍 border-image 的用法。</p><h3 id="2-1-border-image-source" class="post-heading"><a href="#2-1-border-image-source" class="headerlink" title="2.1 border-image-source"></a>2.1 border-image-source<a class="post-anchor" href="#2-1-border-image-source" aria-hidden="true"></a></h3><p>语法：<br></p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">border</span>-<span class="built_in">image</span>: none | &lt;<span class="built_in">image</span>&gt;</span><br></pre></td></tr></table></figure><p></p><p>指定边框图片的地址。 none 表示border-image不做任何效果，边框使用 border-style 指定的样式。</p><h3 id="2-2-bordre-image-slice" class="post-heading"><a href="#2-2-bordre-image-slice" class="headerlink" title="2.2 bordre-image-slice"></a>2.2 bordre-image-slice<a class="post-anchor" href="#2-2-bordre-image-slice" aria-hidden="true"></a></h3><p>语法：<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bordre-image-slice [&lt;number&gt; | &lt;percentage&gt;]&#123;1,4&#125; &amp;&amp; fill?</span><br></pre></td></tr></table></figure><p></p><p>border-image-slice 从名字上看就很好理解：边框图像切片。指定4个值(4条分割线：top, right, bottom, left)将 border-image-source 分割成9宫格，如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/2ia2uu.gif" alt="gif 动图"></p><p><strong>四条分割线的值</strong></p><p>border-image-slice 四条线的值类型为：number | percentage。</p><p><code>number</code> 不带单位的数值。1 代表 1个图片像素。<br><code>percentage</code> 百分比。</p><p>错误的写法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image-slice</span>: <span class="number">27px</span> <span class="number">27px</span> <span class="number">27px</span> <span class="number">27px</span>;</span><br></pre></td></tr></table></figure><p></p><p>正确的写法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image-slice</span>: <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span>;</span><br></pre></td></tr></table></figure><p></p><p><strong>关键字：fill</strong></p><blockquote><p>Specifies an image to use in place of the rendering specified by the ‘border-style’ properties and, if given the ‘fill’ keyword in ‘border-image-slice’, as an additional image backdrop for the element.</p></blockquote><p><strong>关键字fill的作用是：将border-image-source九宫格中间那一块切片作为DOM节点的背景。</strong></p><p>素材图片box.png:<br><img src="//misc.aotu.io/leeenx/border-image/box.png" alt="box.png"></p><p>CSS 代码：<br></p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">.box</span> &#123;</span><br><span class="line">	width: 27px;</span><br><span class="line">	height:27px;</span><br><span class="line">	border: 27px solid;</span><br><span class="line">	border-image: url(box.png) 27 27 27 27<span class="built_in"> fill </span>repeat stretch;//fil？</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>测试结果如下：<br><img src="//misc.aotu.io/leeenx/border-image/result.png" alt="结果截图"></p><p>线上DEMO：<br><img src="//misc.aotu.io/leeenx/border-image/qr.png" alt="qr"></p><h3 id="2-3-border-image-width" class="post-heading"><a href="#2-3-border-image-width" class="headerlink" title="2.3 border-image-width"></a>2.3 border-image-width<a class="post-anchor" href="#2-3-border-image-width" aria-hidden="true"></a></h3><p>语法：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-image-width: [ &lt;length&gt; | &lt;percentage&gt; | &lt;number&gt; | auto ]&#123;1,4&#125;</span><br></pre></td></tr></table></figure><p>border-image-width 字面意思是边框图片宽度，作用是将 DOM 节点分割成九宫格。 假设 border-image-slice 分割 border-image-source 的九宫格为A， border-image-width 分割 DOM 的九宫格为 B，A 与 B 的每个格子存在一一对应关系，具体如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/border-image-width.gif?v=4" alt="border-image-width与border-image-slice的对应关系"></p><p><strong>border-image-width 参数的四种类型:</strong></p><p><code>length</code> 带 px, em, in … 单位的尺寸值<br><code>percentage</code> 百分比<br><code>number</code> 不带单位的数字；它表示 border-width 的倍数<br><code>auto</code> 使用 auto， border-image-width 将会使用 border-image-slice 的值</p><p><strong>border-image-width 的参数不能为负值</strong><br><strong>border-image-width的缺省值是 number 类型：1</strong></p><h4 id="2-3-1-border-image-area" class="post-heading"><a href="#2-3-1-border-image-area" class="headerlink" title="2.3.1 border image area"></a>2.3.1 border image area<a class="post-anchor" href="#2-3-1-border-image-area" aria-hidden="true"></a></h4><p>border image area 是<strong>成熟阶段</strong>被引入用于解释 border-image-width 和 border-imaeg-out 的概念。</p><blockquote><p>The border image is drawn inside an area called the border image area. This is an area whose boundaries by default correspond to the border box<br>—— 摘录自: <a href="https://www.w3.org/TR/css3-background/#border-image-width" target="_blank" rel="noopener">https://www.w3.org/TR/css3-background/#border-image-width</a></p></blockquote><p>用于绘画 border image 的区域叫 border image area，它默认与边框盒子(border box)完全重合。简单地说，<strong>border image area 就是 border-image-width 分割出来的九宫格</strong>。</p><p><img src="//misc.aotu.io/leeenx/border-image/border-image-area.gif" alt="border image area"></p><h4 id="2-3-2-border-box-与-border-image-area-的关系" class="post-heading"><a href="#2-3-2-border-box-与-border-image-area-的关系" class="headerlink" title="2.3.2 border-box 与 border image area 的关系"></a>2.3.2 border-box 与 border image area 的关系<a class="post-anchor" href="#2-3-2-border-box-与-border-image-area-的关系" aria-hidden="true"></a></h4><p>上面有提到，border image area 默认与 border-box 是重合关系。如果把标准后退到发展阶段：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-image: none | &lt;uri&gt; [&lt;number&gt; | &lt;percentage&gt;]&#123;4&#125; [ / &lt;border-width&gt;&#123;1,4&#125; ]? [stretch | repeat | round]&#123;0,2&#125;</span><br></pre></td></tr></table></figure><p>在发展阶段，DOM节点由 border-width 分割为九宫格，这个时期的 border-box 就是 border image area。</p><p>到了成熟阶段（即本章介绍的版本），<strong>border-box 与 border image area 是默认重合的两个空间</strong>，border-box 只负责盒子模型上的事务，border image area 则专注于边框图像空间分割。</p><h4 id="2-3-3-border-width-可以分割-border-image-area" class="post-heading"><a href="#2-3-3-border-width-可以分割-border-image-area" class="headerlink" title="2.3.3 border-width 可以分割 border image area?"></a>2.3.3 border-width 可以分割 border image area?<a class="post-anchor" href="#2-3-3-border-width-可以分割-border-image-area" aria-hidden="true"></a></h4><p>在实际使用过程中，笔者发现 border-width 也可以分割 border image area。如下：</p><p>测试CSS代码：<br></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">27px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">27px</span>;</span><br><span class="line">	<span class="attribute">border</span>: <span class="number">27px</span> solid <span class="built_in">rgba</span>(242,181,78,.3);</span><br><span class="line">	<span class="attribute">border-image-source</span>: <span class="built_in">url</span>(http://7xv39r.com1.z0.glb.clouddn.com/box.png);</span><br><span class="line">	<span class="attribute">border-image-slice</span>: <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> fill;</span><br><span class="line">	<span class="attribute">border-image-repeat</span>: stretch stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>截图如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/border-width.jpg" alt="border-width"> <img src="//misc.aotu.io/leeenx/border-image/border-width2.jpg" alt="border-width"></p><p>如果单从上述测试结果而言，border-width 可以分割 border image area 是正确。不过，这个结论有一个前提：border-image-border 与 border-image-outset 同时缺省。如果将 CSS 代码修为：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">27px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">27px</span>;</span><br><span class="line">	<span class="attribute">border</span>: <span class="number">27px</span> solid <span class="built_in">rgba</span>(242,181,78,.3);</span><br><span class="line">	<span class="attribute">border-image-source</span>: <span class="built_in">url</span>(http://7xv39r.com1.z0.glb.clouddn.com/box.png);</span><br><span class="line">	<span class="attribute">border-image-slice</span>: <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> fill;</span><br><span class="line">	<span class="attribute">border-image-outset</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">border-image-repeat</span>: stretch stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>截图如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/border-width3.jpg" alt="border-width"> <img src="//misc.aotu.io/leeenx/border-image/border-width4.jpg" alt="border-width"></p><p>设置了 border-image-outset 后 border-width 的分割 border image area 的假像就被揭穿了！！<br>border-width 分割 border image area 的假象源自 border-image-width 的缺省值1，数值1表示 border-image-width 是 1x border-width，大白话就是<strong>border-image-width 的默认值是border-width</strong>。</p><p><strong>尽管在最新的CSS3标准中 “border-width 分割 border image area” 只是个假像，但当前(2016.11.1)阶段，为了更多浏览器兼容建议 border-width 与 border-image-width 保持一致，即使用 border-width 暂代 border-image-width。</strong></p><h3 id="2-4-border-image-outset" class="post-heading"><a href="#2-4-border-image-outset" class="headerlink" title="2.4 border-image-outset"></a>2.4 border-image-outset<a class="post-anchor" href="#2-4-border-image-outset" aria-hidden="true"></a></h3><p>语法：<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-image-outset: [ &lt;length&gt; | &lt;number&gt; ]&#123;1,4&#125;</span><br></pre></td></tr></table></figure><p></p><p>border-image-outset 字面意思是边框图片开端。作用是重新指定 border image area 的边界。</p><blockquote><p>The values specify the amount by which the border image area extends beyond the border box. If it has four values, they set the outsets on the top, right, bottom and left sides in that order. If the left is missing, it is the same as the right; if the bottom is missing, it is the same as the top; if the right is missing, it is the same as the top.<br>—— 摘录自：<a href="https://www.w3.org/TR/css3-background/#border-image-outset" target="_blank" rel="noopener">https://www.w3.org/TR/css3-background/#border-image-outset</a></p></blockquote><p>通过指定 border-image-outset 的值，可以把 border image area 的区域延伸到 border-box 之外。如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">81px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">81px</span>;</span><br><span class="line">	<span class="attribute">border</span>: <span class="number">27px</span> solid <span class="built_in">rgba</span>(0,0,0,.1);</span><br><span class="line">	<span class="attribute">border-image-source</span>: <span class="built_in">url</span>(//misc.aotu.io/leeenx/border-image/box.png);</span><br><span class="line">	<span class="attribute">border-image-slice</span>: <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span>;</span><br><span class="line">	<span class="attribute">border-image-repeat</span>: repeat;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.outset</span> &#123;</span><br><span class="line">	<span class="attribute">border-image-outset</span>: <span class="number">27px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对比：<br><img src="//misc.aotu.io/leeenx/border-image/demo3.png" alt="border-image-outset"></p><p>二维码:<br><img src="//misc.aotu.io/leeenx/border-image/qr2.png?v=1" alt="二维码"></p><p><strong>border-image-outset 与 border-image-width 参数的意义是一样的。</strong><br><strong>border-image-outset 的值不能为负值</strong></p><h3 id="2-5-border-image-repeat" class="post-heading"><a href="#2-5-border-image-repeat" class="headerlink" title="2.5 border-image-repeat"></a>2.5 border-image-repeat<a class="post-anchor" href="#2-5-border-image-repeat" aria-hidden="true"></a></h3><p>语法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image-repeat</span>: [ stretch | repeat | round | space ]&#123;<span class="number">1</span>,<span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure><p></p><p>border-image-repeat 字面意义是 边框图片平铺。作用是指定 border-image 的平铺方式。语法上最多可接收两个参数，第一个参数指定水平方向边框的平铺方式，第二个参数指定垂直方向边框的平铺方式，九宫格的中间区域受这两参数的共同影响，如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/demo2_1.jpg" alt="round round"><br><img src="//misc.aotu.io/leeenx/border-image/demo2_2.jpg" alt="round round"><br><img src="//misc.aotu.io/leeenx/border-image/demo2_3.jpg" alt="round round"><br><img src="//misc.aotu.io/leeenx/border-image/demo2_4.jpg" alt="round round"></p><p>目前只能四值可供选择：stretch, repeat, round, space。<br>其中，stretch 是默认值，space 目前chrome浏览器按 repeat 来渲染。这四个参数的效果如下：</p><p><img src="//misc.aotu.io/leeenx/border-image/stretch.png" alt="border-image-outset"> <img src="//misc.aotu.io/leeenx/border-image/repeat.png" alt="border-image-outset"> <img src="//misc.aotu.io/leeenx/border-image/round.png" alt="border-image-outset"> <img src="//misc.aotu.io/leeenx/border-image/space.png" alt="border-image-outset"></p><p>repeat 与 round 的区别：round 除了能平铺外还能通过伸缩使背景完整显示。<br>round 与 space 的区别：虽然都使背景完整显示，但是 space 在小方块之间有一定的空隙。</p><p>二维码:<br><img src="//misc.aotu.io/leeenx/border-image/qr4.png" alt="二维码"></p><h3 id="简写：border-image" class="post-heading"><a href="#简写：border-image" class="headerlink" title="简写：border-image"></a>简写：border-image<a class="post-anchor" href="#简写：border-image" aria-hidden="true"></a></h3><p>语法：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">border-image: &lt;‘border-image-source’&gt; || &lt;‘border-image-slice’&gt; [ / &lt;‘border-image-width’&gt; | / &lt;‘border-image-width’&gt;? / &lt;‘border-image-outset’&gt; ]? || &lt;‘border-image-repeat’&gt;</span><br></pre></td></tr></table></figure><p>简写其实没什么好说的，不过由于 border-image-slice、border-image-width 与 border-image-outset 这三者的参数相似，所以有必要说一下，这三个参数在简写里有两个注意点:</p><p><strong>一、 border-image-outset 参数一定要在 border-image-width 之后，假设border-image-width缺省，仍然需要在原来 border-image-width 写上 /</strong>，如下：</p><p>正确的写法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: url(http://<span class="number">7</span>xv39r.com1.z0.glb.clouddn.com/box.png) <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> / / <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><p></p><p>错误的写法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: url(http://<span class="number">7</span>xv39r.com1.z0.glb.clouddn.com/box.png) <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> / <span class="number">10px</span>;<span class="comment">//这样写 10px会被当作 border-width</span></span><br></pre></td></tr></table></figure><p></p><p><strong>二、 如果有 border-image-width/ border-image-outset 属性值，border-image-slice必须指定数值，否则不合语法</strong>，如下：</p><p>正确的写法:<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: url(http://<span class="number">7</span>xv39r.com1.z0.glb.clouddn.com/box.png) <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> <span class="number">27</span> / <span class="number">10px</span> / <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><p></p><p>错误的写法：<br></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: url(http://<span class="number">7</span>xv39r.com1.z0.glb.clouddn.com/box.png) / <span class="number">10px</span> / <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><p></p><h3 id="后记" class="post-heading"><a href="#后记" class="headerlink" title="后记"></a>后记<a class="post-anchor" href="#后记" aria-hidden="true"></a></h3><p>实践过程中遇到BUG：</p><p>safari浏览器下，border-color不能使用 <code>transparent</code> 与 <code>rgba(x,x,x, 0)</code>。否则，border-image 会失效。</p><p>补记于：2016.12.26</p><hr><p>参考资料：</p><ul><li><a href="https://www.w3.org/TR/2002/WD-css3-border-20021107/" target="_blank" rel="noopener">W3C Working Draft 7 November 2002</a></li><li><a href="https://www.w3.org/TR/2005/WD-css3-background-20050216/" target="_blank" rel="noopener">W3C Working Draft 16 February 2005</a></li><li><a href="https://www.w3.org/TR/css3-background/" target="_blank" rel="noopener">W3C Candidate Recommendation 9 September 2014</a></li><li><a href="http://www.tuicool.com/articles/EJZnUnm" target="_blank" rel="noopener">css3：border-image边框图像详解</a></li><li><a href="http://www.zhangxinxu.com/wordpress/2010/01/css3-border-image/" target="_blank" rel="noopener">CSS3 border-image详解、应用及jQuery插件</a></li></ul><div class="post-tags" style="display:none"><a href="/tags/border-image/">border image</a> <a href="/tags/css3-border-image/">css3 border-image</a> <a href="/tags/边框图片/">边框图片</a></div><div class="post-categories" style="display:none"><a href="/cates/Web开发/">Web开发</a></div><div class="post-announce">感谢您的阅读，本文由 <a href="https://github.com/leeenx">leeenx</a> 原创提供。如若转载，请注明出处：凹凸实验室（<a href="/notes/2016/11/02/border-image/">https://aotu.io/notes/2016/11/02/border-image/</a>）</div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2021-02-02T07:48:05.238Z">上次更新：2021-02-02 15:48:05</time></div></div><div class="post-nav"><div class="post-nav-next"><a href="/notes/2016/11/02/AdobeMax2016/" title="AdobeMax 2016回顾">AdobeMax 2016回顾 <i class="fa fa-chevron-right"></i></a></div><div class="post-nav-prev"><a href="/notes/2016/10/24/decorator/" title="Javascript 中的装饰器"><i class="fa fa-chevron-left"></i> Javascript 中的装饰器</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAxNi8xMS8wMi9ib3JkZXItaW1hZ2Uv",owner:"o2team",repo:"o2team.github.io",title:"border-image 的正确用法",body:"https://aotu.io/notes/2016/11/02/border-image/index.html\n\n尽管经常使用 border-image，但我们真的了解它的吗？",clientID:"3c4d153e6874260f9c7e",clientSecret:"dd44012504c6168bc05b9266e0554bb28c62ce15",admin:["leeenx"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec aotuwx"><img class="aotuwx-qrcode" src="/img/qrcode.jpg" alt="关注我们"><div class="aotuwx-slogan">每周推送精选技术文章</div></div><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="//taro.jd.com" target="_blank" title="Taro">Taro</a></li><li><a href="//taro-ui.jd.com" target="_blank" title="Taro-UI">Taro-UI</a></li><li><a href="//taro-ext.jd.com" target="_blank" title="Taro 物料市场">Taro 物料市场</a></li><li><a href="//taro-club.jd.com" target="_blank" title="Taro 官方论坛">Taro 官方论坛</a></li><li><a href="//cases.aotu.io/mobi/maga.html" target="_blank" title="拇指期刊">拇指期刊</a></li><li><a href="//athena.aotu.io/" target="_blank" title="Athena">Athena</a></li><li><a href="//guide.aotu.io/" target="_blank" title="前端代码规范">前端代码规范</a></li><li><a href="//halojs.aotu.io/" target="_blank" title="HaloJS">HaloJS</a></li><li><a href="//sign.aotu.io/" target="_blank" title="邮件签名工具">邮件签名工具</a></li><li><a href="//mac.aotu.io/" target="_blank" title="MAC全栈环境">MAC全栈环境</a></li><li><a href="//xcel.aotu.io" target="_blank" title="Excel Filter">Excel Filter</a></li><li><a href="//aotu.jd.com/share/" target="_blank" title="凹凸公开课">凹凸公开课</a></li><li><a href="//at.aotu.io" target="_blank" title="AT-UI">AT-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>友情链接</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.cloudbase.net" target="_blank" title="小程序·云开发"><img style="width:22px;vertical-align:middle" src="https://img20.360buyimg.com/ling/jfs/t1/57175/5/15617/50216/5dca6729E00cdff5d/631622525425290e.png">小程序·云开发</a></li><li><a href="https://ling.jd.com" target="_blank" title="京东羚珑智能设计">羚珑智能设计</a></li><li><a href="https://jdrd.jd.com" target="_blank" title="京东零售设计服务平台">京东零售设计服务平台</a></li><li><a href="https://jdc.jd.com" target="_blank" title="京东设计中心">JDC京东设计中心</a></li><li><a href="http://dopro.io/" target="_blank" title="腾讯 Deep Ocean">Deep Ocean</a></li><li><a href="http://fex.baidu.com" target="_blank" title="百度Web前端研发部">百度FEX</a></li><li><a href="http://taobaofed.org" target="_blank" title="淘宝前端团队">淘宝FED</a></li><li><a href="http://tgideas.qq.com" target="_blank" title="腾讯互娱设计中心">TGIdeas</a></li><li><a href="http://isux.tencent.com" target="_blank" title="腾讯SNG设计中心">ISUX</a></li><li><a href="http://cdc.tencent.com" target="_blank" title="腾讯用户研究与体验设计中心">CDC</a></li><li><a href="http://ued.ctrip.com" target="_blank" title="携程设计委员会">携程UED</a></li><li><a href="https://uiiiuiii.com/" target="_blank" title="优优教程网">优优教程网</a></li><li><a href="https://www.designup.cn/" target="_blank" title="Designup">Designup</a></li><li><a href="http://eux.baidu.com/" target="_blank" title="百度EUX">百度EUX</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/o2team/o2team.github.io" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Designed by <a href="http://aotu.io" target="_blank">凹凸实验室</a> @<a target="_blank" href="http://jdc.jd.com">京东用户体验设计部</a></p><p>Copyright &copy; 2021. All Rights Reserved.</p><p><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备15077732号-2</a></p></div></div></footer><script src="/js/bundle/core.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/post_wx_share.js"></script><script src="/js/bundle/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>