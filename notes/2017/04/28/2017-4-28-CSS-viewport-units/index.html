<!DOCTYPE html><html class="theme-lattice"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>利用视口单位实现适配布局 | Aotu.io「凹凸实验室」</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="author" content="凹凸实验室"><meta name="designer" content="凹凸实验室"><meta name="rating" content="general"><meta name="format-detection" content="telephone=yes"><meta name="robots" content="index, follow"><meta baidu-gxt-verify-token="2b74a5aea155a215abea8547f929190c"><meta name="keywords" content="视口单位,适配,CSS,凹凸实验室,Aotu,前端开发,全栈开发,IOS开发,Android开发"><link rel="canonical" href="https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/index.html"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon-48x48.png"><link rel="manifest" href="/img/manifest.json"><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#2f83cd"><meta name="application-name" content="Aotu.io"><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="167x167" href="/img/apple-touch-icon-167x167.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon-180x180.png"><link rel="apple-touch-icon" sizes="1024x1024" href="/img/apple-touch-icon-1024x1024.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="Aotu.io"><meta name="msapplication-TileColor" content="#fff"><meta name="msapplication-TileImage" content="/img/mstile-144x144.png"><meta name="msapplication-config" content="/img/browserconfig.xml"><meta property="wb:webmaster" content="a1686eb81db284d5"><meta name="wechat-logo" content="http://misc.aotu.io/Tingglelaoo/CSS_viewport_units_200x200.jpg"><meta name="wechat-title" content="利用视口单位实现适配布局"><meta name="wechat-desc" content="视口单位的出现又为移动端Web开发提供了一种新的适配页面的布局方式"><link rel="dns-prefetch" href="//storage.360buyimg.com"><link rel="dns-prefetch" href="//img10.360buyimg.com"><link rel="dns-prefetch" href="//img11.360buyimg.com"><link rel="dns-prefetch" href="//img12.360buyimg.com"><link rel="dns-prefetch" href="//img13.360buyimg.com"><link rel="dns-prefetch" href="//img14.360buyimg.com"><link rel="dns-prefetch" href="//img20.360buyimg.com"><link rel="dns-prefetch" href="//img30.360buyimg.com"><link rel="dns-prefetch" href="//misc.aotu.io"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" href="/atom.xml" title="Aotu.io"><meta name="description" content="响应式布局的实现依靠媒体查询（ Media Queries ）来实现，选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配。即使是通过 rem 单位来实现适配，也是需要内嵌一段脚本去动态计算根元素大小。 近年来，随着移动端对视口单位的支持越来越成熟、广泛，使得我们可以尝试一种新的办法去真正地适配所有设备尺寸。 认识视口单位（ Vi"><meta name="keywords" content="CSS,适配,视口单位"><meta property="og:type" content="article"><meta property="og:title" content="利用视口单位实现适配布局"><meta property="og:url" content="https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/index.html"><meta property="og:site_name" content="Aotu.io"><meta property="og:description" content="响应式布局的实现依靠媒体查询（ Media Queries ）来实现，选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配。即使是通过 rem 单位来实现适配，也是需要内嵌一段脚本去动态计算根元素大小。 近年来，随着移动端对视口单位的支持越来越成熟、广泛，使得我们可以尝试一种新的办法去真正地适配所有设备尺寸。 认识视口单位（ Vi"><meta property="og:locale" content="zh-cn"><meta property="og:image" content="https://misc.aotu.io/Tingglelaoo/viewport.jpg"><meta property="og:image" content="https://misc.aotu.io/Tingglelaoo/vw_vh.jpg"><meta property="og:image" content="https://misc.aotu.io/Tingglelaoo/caniuse_viewport.png"><meta property="og:image" content="https://misc.aotu.io/Tingglelaoo/wechat.jpg"><meta property="og:image" content="https://misc.aotu.io/Tingglelaoo/layout.jpg"><meta property="og:updated_time" content="2021-02-02T07:48:05.242Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="利用视口单位实现适配布局"><meta name="twitter:description" content="响应式布局的实现依靠媒体查询（ Media Queries ）来实现，选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配。即使是通过 rem 单位来实现适配，也是需要内嵌一段脚本去动态计算根元素大小。 近年来，随着移动端对视口单位的支持越来越成熟、广泛，使得我们可以尝试一种新的办法去真正地适配所有设备尺寸。 认识视口单位（ Vi"><meta name="twitter:image" content="https://misc.aotu.io/Tingglelaoo/viewport.jpg"><meta name="twitter:site" content="o2circle"><script>var App={root:"/",isHome:!1,isCate:!1,isTag:!1}</script><script>window.WechatShareData={imgUrl:"http://misc.aotu.io/Tingglelaoo/CSS_viewport_units_200x200.jpg",link:window.location.href,title:"利用视口单位实现适配布局",desc:"视口单位的出现又为移动端Web开发提供了一种新的适配页面的布局方式"},window.WechatJSSDKURL="https://aotu.jd.com/aotu-wx-api/api/wx/jssdk/signature"</script></head><body class="page-post-detail"><div class="mod-hd"><div class="grid"><div class="mod-logo"><a href="/index.html" title="Aotu.io">Aotu.io</a></div><span class="mod-hd-toggle" id="J_hdToggle"><i class="fa fa-bars"></i></span><div class="mod-hd-main"><div class="mod-hd-inner"><nav class="mod-nav"><ul class="mod-nav-list"><li class="main-nav-item"><a href="/index.html" class="main-nav-link">首页</a></li><li class="main-nav-item"><a target="_blank" href="https://geeks.aotu.io" class="main-nav-link">极客沙龙</a></li><li class="main-nav-item"><a href="https://cases.aotu.io" class="main-nav-link">H5案例</a></li><li class="main-nav-item"><a href="/about/" class="main-nav-link">关于</a></li><li class="main-nav-item"><a href="/join/" class="main-nav-link">加入我们</a></li></ul></nav><div class="mod-search" id="J_search"><a class="fa fa-search mod-search-ico" id="J_searchTrigger" title="搜索"></a><form id="J_searchForm" method="get" class="mod-search-form" action="/search/"><input type="text" name="query" class="mod-search-ipt" id="J_searchInput" placeholder="搜索"></form></div></div></div></div></div><div class="mod-container"><div class="grid"><div class="mod-main typo"><article class="post"><div class="post-cover"><img src="http://misc.aotu.io/Tingglelaoo/CSS_viewport_units_900x500.jpg" alt="利用视口单位实现适配布局"></div><header class="post-hd"><h1 class="post-tit">利用视口单位实现适配布局</h1><div class="post-meta">by <a target="_blank" href="https://github.com/Tingglelaoo" class="post-author">Tingglelaoo</a> on <span>2017-04-28</span></div><p class="post-subtit" style="display:none"><i class="fa fa-quote-left"></i>视口单位的出现又为移动端Web开发提供了一种新的适配页面的布局方式</p><span style="display:none" id="busuanzi_value_page_pv"></span></header><div class="post-content"><a id="more"></a><p>响应式布局的实现依靠媒体查询（ Media Queries ）来实现，选取主流设备宽度尺寸作为断点针对性写额外的样式进行适配，但这样做会比较麻烦，只能在选取的几个主流设备尺寸下呈现完美适配。<br>即使是通过 rem 单位来实现适配，也是需要内嵌一段脚本去动态计算根元素大小。</p><p>近年来，随着移动端对视口单位的支持越来越成熟、广泛，使得我们可以尝试一种新的办法去真正地适配所有设备尺寸。</p><h2 id="认识视口单位（-Viewport-units" class="post-heading"><a href="#认识视口单位（-Viewport-units" class="headerlink" title="认识视口单位（ Viewport units )"></a>认识视口单位（ Viewport units )<a class="post-anchor" href="#认识视口单位（-Viewport-units" aria-hidden="true"></a></h2><p>首先，我们要了解什么是视口。</p><p>在业界，极为推崇的一种理论是 Peter-Paul Koch (江湖人称“PPK大神”)提出的关于视口的<a href="http://weizhifeng.net/viewports.html" target="_blank" rel="noopener">解释</a>——在桌面端，视口指的是在桌面端，指的是浏览器的可视区域；而在移动端较为复杂，它涉及到三个视口：分别是 Layout Viewport（布局视口）、 Visual Viewport（视觉视口）、Ideal Viewport。</p><p>而视口单位中的“视口”，在桌面端，毫无疑问指的就是浏览器的可视区域；但是在移动端，它指的则是三个 Viewport 中的 Layout Viewport 。</p><p></p><div style="margin:0 auto;width:fit-content"><img src="//misc.aotu.io/Tingglelaoo/viewport.jpg" alt="viewport.png"></div><br><small style="display:block;text-align:center">视口单位中的“视口”</small><p></p><p>根据<a href="https://drafts.csswg.org/css-values-3/#viewport-relative-lengths" target="_blank" rel="noopener">CSS3规范</a>，视口单位主要包括以下4个：</p><ul><li><strong>vw</strong> : 1vw 等于视口宽度的1%</li><li><strong>vh</strong> : 1vh 等于视口高度的1%</li><li><strong>vmin</strong> : 选取 vw 和 vh 中最小的那个</li><li><strong>vmax</strong> : 选取 vw 和 vh 中最大的那个</li></ul><p>视口单位区别于<code>%</code>单位，视口单位是依赖于视口的尺寸，根据视口尺寸的百分比来定义的；而<code>%</code>单位则是依赖于元素的祖先元素。</p><p></p><div style="margin:0 auto;width:fit-content"><img src="//misc.aotu.io/Tingglelaoo/vw_vh.jpg" alt="viewport.png"></div><br><small style="display:block;text-align:center">用视口单位度量，视口宽度为100vw，高度为100vh（左侧为竖屏情况，右侧为横屏情况）</small><p></p><p>例如，在桌面端浏览器视口尺寸为650px，那么 1vw = 650 * 1% = 6.5px（这是理论推算的出，如果浏览器不支持0.5px，那么实际渲染结果可能是7px）。</p><h2 id="兼容性" class="post-heading"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性<a class="post-anchor" href="#兼容性" aria-hidden="true"></a></h2><p>其兼容性如下图所示，可以知道：<strong>在移动端 iOS 8 以上以及 Android 4.4 以上获得支持，并且在微信 x5 内核中也得到完美的全面支持。</strong></p><p></p><div style="margin:0 auto;width:fit-content"><img src="//misc.aotu.io/Tingglelaoo/caniuse_viewport.png" alt="caniuse_viewport.png"></div><br><small style="display:block;text-align:center">截图来自<a href="http://caniuse.com/#search=vw" target="_blank" rel="noopener">Can I Use</a></small><p></p><p></p><div style="margin:0 auto;width:100px"><img src="//misc.aotu.io/Tingglelaoo/wechat.jpg" alt="wechat.jpg"></div><br><small style="display:block;text-align:center">截图来自<a href="http://res.imtt.qq.com/tbs/incoming20160419/home.html" target="_blank" rel="noopener">X5内核－Can I Use</a></small><p></p><h2 id="利用视口单位适配页面" class="post-heading"><a href="#利用视口单位适配页面" class="headerlink" title="利用视口单位适配页面"></a>利用视口单位适配页面<a class="post-anchor" href="#利用视口单位适配页面" aria-hidden="true"></a></h2><p>对于移动端开发来说，最为重要的一点是如何适配页面，实现多终端的兼容，不同的适配方式各有千秋，也各有缺点。</p><p>就主流的响应式布局、弹性布局来说，通过 Media Queries 实现的布局需要配置多个响应断点，而且带来的体验也对用户十分的不友好：布局在响应断点范围内的分辨率下维持不变，而在响应断点切换的瞬间，布局带来断层式的切换变化，如同卡带的唱机般“咔咔咔”地一下又一下。</p><p>而通过采用rem单位的动态计算的弹性布局，则是需要在头部内嵌一段脚本来进行监听分辨率的变化来动态改变根元素字体大小，使得 CSS 与 JS 耦合了在一起。</p><p>有没有办法能够解决这样的问题呢？</p><p>答案是肯定的，通过利用视口单位实现适配的页面，是既能解决响应式断层问题，又能解决脚本依赖的问题的。</p><h3 id="做法一：仅使用vw作为CSS单位" class="post-heading"><a href="#做法一：仅使用vw作为CSS单位" class="headerlink" title="做法一：仅使用vw作为CSS单位"></a>做法一：仅使用vw作为CSS单位<a class="post-anchor" href="#做法一：仅使用vw作为CSS单位" aria-hidden="true"></a></h3><p>在仅使用 vw 单位作为唯一应用的一种 CSS 单位的这种做法下，我们遵守：</p><p>1.对于设计稿的尺寸转换为vw单位，我们使用Sass函数编译</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iPhone 6尺寸作为设计稿基准</span></span><br><span class="line"><span class="variable">$vw_base</span>: <span class="number">375</span>; </span><br><span class="line">@function vw(<span class="variable">$px</span>) &#123;</span><br><span class="line">    @return (<span class="variable">$px</span> / 375) * 100vw;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.无论是文本还是布局高宽、间距等都使用 vw 作为 CSS 单位</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mod_nav</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    &amp;_list &#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">padding</span>: vw(<span class="number">15</span>) vw(<span class="number">10</span>) vw(<span class="number">10</span>); <span class="comment">// 内间距</span></span><br><span class="line">        &amp;_item &#123;</span><br><span class="line">            <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">            <span class="attribute">text-align</span>: center;</span><br><span class="line">            <span class="attribute">font-size</span>: vw(<span class="number">10</span>); <span class="comment">// 字体大小</span></span><br><span class="line">            &amp;_logo &#123;</span><br><span class="line">                <span class="attribute">display</span>: block;</span><br><span class="line">                <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">                <span class="attribute">width</span>: vw(<span class="number">40</span>); <span class="comment">// 宽度</span></span><br><span class="line">                <span class="attribute">height</span>: vw(<span class="number">40</span>); <span class="comment">// 高度</span></span><br><span class="line">                <span class="selector-tag">img</span> &#123;</span><br><span class="line">                    <span class="attribute">display</span>: block;</span><br><span class="line">                    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">                    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            &amp;_name &#123;</span><br><span class="line">                <span class="attribute">margin-top</span>: vw(<span class="number">2</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.1物理像素线（也就是普通屏幕下 1px ，高清屏幕下 0.5px 的情况）采用 transform 属性 scale 实现。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mod_grid</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">        <span class="comment">// 实现1物理像素的下边框线</span></span><br><span class="line">        <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">        <span class="attribute">pointer-events</span>: none;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">        @<span class="keyword">media</span> only screen and (-webkit-min-device-pixel-ratio: 2) &#123;</span><br><span class="line">            -webkit-<span class="attribute">transform</span>: scaleY(<span class="number">0.5</span>);</span><br><span class="line">            -webkit-<span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">0%</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.对于需要保持高宽比的图，应改用 padding-top 实现</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mod_banner</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding-top</span>: percentage(<span class="number">100</span>/<span class="number">750</span>); <span class="comment">// 使用padding-top</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="selector-tag">img</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">height</span>: auto;</span><br><span class="line">        <span class="attribute">position</span>: absolute;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由此，我们能够实现一个常见布局的页面效果如下：</p><p></p><div style="margin:0 auto;width:fit-content"><img src="//misc.aotu.io/Tingglelaoo/layout.jpg" alt="layout.png"></div><br><small style="display:block;text-align:center">体验地址<a href="//jdc.jd.com/demo/ting/vw_layout.html">点击此处</a></small><p></p><h3 id="做法二：搭配vw和rem，布局更优化" class="post-heading"><a href="#做法二：搭配vw和rem，布局更优化" class="headerlink" title="做法二：搭配vw和rem，布局更优化"></a>做法二：搭配vw和rem，布局更优化<a class="post-anchor" href="#做法二：搭配vw和rem，布局更优化" aria-hidden="true"></a></h3><p>这样的页面虽然看起来适配得很好，但是你会发现由于它是利用视口单位实现的布局，依赖于视口大小而自动缩放，无论视口过大还是过小，它也随着视口过大或者过小，失去了最大最小宽度的限制。</p><p>当然，你可以不在乎这样微小的不友好用户体验，但我们还是尝试下追求修复这样的小瑕疵吧。</p><p>于是，联想到不如结合rem单位来实现布局？rem 弹性布局的核心在于动态改变根元素大小，那么我们可以通过：</p><ol><li>给根元素大小设置随着视口变化而变化的 vw 单位，这样就可以实现动态改变其大小。</li><li>限制根元素字体大小的最大最小值，配合 body 加上最大宽度和最小宽度</li></ol><p>这样我们就能够实现对布局宽度的最大最小限制。因此，根据以上条件，我们可以得出代码实现如下：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rem 单位换算：定为 75px 只是方便运算，750px-75px、640-64px、1080px-108px，如此类推</span></span><br><span class="line"><span class="variable">$vw_fontsize</span>: <span class="number">75</span>; <span class="comment">// iPhone 6尺寸的根元素大小基准值</span></span><br><span class="line">@function rem(<span class="variable">$px</span>) &#123;</span><br><span class="line">     @return (<span class="variable">$px</span> / <span class="variable">$vw_fontsize</span> ) * 1rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根元素大小使用 vw 单位</span></span><br><span class="line"><span class="variable">$vw_design</span>: <span class="number">750</span>;</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: (<span class="variable">$vw_fontsize</span> / (<span class="variable">$vw_design</span> / <span class="number">2</span>)) * <span class="number">100vw</span>; </span><br><span class="line">    <span class="comment">// 同时，通过Media Queries 限制根元素最大最小值</span></span><br><span class="line">    @<span class="keyword">media</span> screen and (max-width: 320px) &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">64px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    @<span class="keyword">media</span> screen and (min-width: 540px) &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">108px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// body 也增加最大最小宽度限制，避免默认100%宽度的 block 元素跟随 body 而过大过小</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">540px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">320px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里就不再给出截图，但你可以<a href="//jdc.jd.com/demo/ting/vw_rem_layout.html">点击此处在线地址</a>进行体验。</p><h3 id="小结" class="post-heading"><a href="#小结" class="headerlink" title="小结"></a>小结<a class="post-anchor" href="#小结" aria-hidden="true"></a></h3><p>相对于做法一，个人比较推崇做法二，有以下两点原因：</p><p>第一，做法二相对来说用户视觉体验更好，增加了最大最小宽度的限制；</p><p>第二，更重要是，如果选择主流的rem弹性布局方式作为项目开发的适配页面方法，那么做法二更适合于后期项目从 rem 单位过渡到 vw 单位。只需要通过改变根元素大小的计算方式，你就可以不需要其他任何的处理，就无缝过渡到另一种CSS单位，更何况vw单位的使用必然会成为一种更好适配方式，目前它只是碍于兼容性的支持而得不到广泛的应用。</p><h2 id="后语" class="post-heading"><a href="#后语" class="headerlink" title="后语"></a>后语<a class="post-anchor" href="#后语" aria-hidden="true"></a></h2><p>这是笔者在偶然中阅读到<a href="http://www.cnblogs.com/wengxuesong/archive/2016/05/16/5497653.html" target="_blank" rel="noopener">[翻译]使用VH和VW实现真正的流体排版</a>这一篇文章得到的感悟与成果，也满心欢喜地期待这篇文章同样能够带给读者一些启发，并提出一些的vw单位使用秘笈来交流交流～:）</p><h2 id="参考文档" class="post-heading"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档<a class="post-anchor" href="#参考文档" aria-hidden="true"></a></h2><ul><li><a href="https://github.com/dwqs/blog/issues/5" target="_blank" rel="noopener">基于视口单位的网页排版</a></li><li><a href="http://www.open-open.com/lib/view/open1464136989764.html" target="_blank" rel="noopener">(转）基于视口单位的网页排版</a></li><li><a href="http://www.cnblogs.com/wengxuesong/archive/2016/05/16/5497653.html" target="_blank" rel="noopener">[翻译]使用VH和VW实现真正的流体排版</a></li></ul><div class="post-tags" style="display:none"><a href="/tags/CSS/">CSS</a> <a href="/tags/适配/">适配</a> <a href="/tags/视口单位/">视口单位</a></div><div class="post-categories" style="display:none"><a href="/cates/Web开发/">Web开发</a></div><div class="post-announce">感谢您的阅读，本文由 <a href="//aotu.io">凹凸实验室</a> 版权所有。如若转载，请注明出处：凹凸实验室（<a href="https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/">https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/</a>）</div><div class="post-revision"><i class="fa fa-clock-o"></i> <time class="post-updated" datetime="2021-02-02T07:48:05.242Z">上次更新：2021-02-02 15:48:05</time></div></div><div class="post-nav"><div class="post-nav-next"><a href="/notes/2017/05/04/example-for-svg-animation/" title="一个例子上手SVG动画">一个例子上手SVG动画 <i class="fa fa-chevron-right"></i></a></div><div class="post-nav-prev"><a href="/notes/2017/04/22/an-update-on-es6-modules-in-node-js/" title="【译】关于 Node.js 里 ES6 Modules 的一次更新说明"><i class="fa fa-chevron-left"></i> 【译】关于 Node.js 里 ES6 Modules 的一次更新说明</a></div></div><div class="post-comments" id="comments"></div><script>var gitalkOpts={id:"bm90ZXMvMjAxNy8wNC8yOC8yMDE3LTQtMjgtQ1NTLXZpZXdwb3",owner:"o2team",repo:"o2team.github.io",title:"利用视口单位实现适配布局",body:"https://aotu.io/notes/2017/04/28/2017-4-28-CSS-viewport-units/index.html\n\n视口单位的出现又为移动端Web开发提供了一种新的适配页面的布局方式",clientID:"3c4d153e6874260f9c7e",clientSecret:"dd44012504c6168bc05b9266e0554bb28c62ce15",admin:["Tingglelaoo"]}</script></article></div><aside class="mod-side" id="sidebar"><div class="mod-side-sec aotuwx"><img class="aotuwx-qrcode" src="/img/qrcode.jpg" alt="关注我们"><div class="aotuwx-slogan">每周推送精选技术文章</div></div><div class="mod-side-sec works"><div class="mod-side-sec-hd"><h2>服务/产品</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="//taro.jd.com" target="_blank" title="Taro">Taro</a></li><li><a href="//taro-ui.jd.com" target="_blank" title="Taro-UI">Taro-UI</a></li><li><a href="//taro-ext.jd.com" target="_blank" title="Taro 物料市场">Taro 物料市场</a></li><li><a href="//taro-club.jd.com" target="_blank" title="Taro 官方论坛">Taro 官方论坛</a></li><li><a href="//cases.aotu.io/mobi/maga.html" target="_blank" title="拇指期刊">拇指期刊</a></li><li><a href="//athena.aotu.io/" target="_blank" title="Athena">Athena</a></li><li><a href="//guide.aotu.io/" target="_blank" title="前端代码规范">前端代码规范</a></li><li><a href="//halojs.aotu.io/" target="_blank" title="HaloJS">HaloJS</a></li><li><a href="//sign.aotu.io/" target="_blank" title="邮件签名工具">邮件签名工具</a></li><li><a href="//mac.aotu.io/" target="_blank" title="MAC全栈环境">MAC全栈环境</a></li><li><a href="//xcel.aotu.io" target="_blank" title="Excel Filter">Excel Filter</a></li><li><a href="//aotu.jd.com/share/" target="_blank" title="凹凸公开课">凹凸公开课</a></li><li><a href="//at.aotu.io" target="_blank" title="AT-UI">AT-UI</a></li></ul></div></div><div class="mod-side-sec favlinks"><div class="mod-side-sec-hd"><h2>友情链接</h2></div><div class="mod-side-sec-bd"><ul class="mod-side-list"><li><a href="https://www.cloudbase.net" target="_blank" title="小程序·云开发"><img style="width:22px;vertical-align:middle" src="https://img20.360buyimg.com/ling/jfs/t1/57175/5/15617/50216/5dca6729E00cdff5d/631622525425290e.png">小程序·云开发</a></li><li><a href="https://ling.jd.com" target="_blank" title="京东羚珑智能设计">羚珑智能设计</a></li><li><a href="https://jdrd.jd.com" target="_blank" title="京东零售设计服务平台">京东零售设计服务平台</a></li><li><a href="https://jdc.jd.com" target="_blank" title="京东设计中心">JDC京东设计中心</a></li><li><a href="http://dopro.io/" target="_blank" title="腾讯 Deep Ocean">Deep Ocean</a></li><li><a href="http://fex.baidu.com" target="_blank" title="百度Web前端研发部">百度FEX</a></li><li><a href="http://taobaofed.org" target="_blank" title="淘宝前端团队">淘宝FED</a></li><li><a href="http://tgideas.qq.com" target="_blank" title="腾讯互娱设计中心">TGIdeas</a></li><li><a href="http://isux.tencent.com" target="_blank" title="腾讯SNG设计中心">ISUX</a></li><li><a href="http://cdc.tencent.com" target="_blank" title="腾讯用户研究与体验设计中心">CDC</a></li><li><a href="http://ued.ctrip.com" target="_blank" title="携程设计委员会">携程UED</a></li><li><a href="https://uiiiuiii.com/" target="_blank" title="优优教程网">优优教程网</a></li><li><a href="https://www.designup.cn/" target="_blank" title="Designup">Designup</a></li><li><a href="http://eux.baidu.com/" target="_blank" title="百度EUX">百度EUX</a></li></ul></div></div></aside></div></div><div class="mod-backtop" id="backTop"><i class="fa fa-long-arrow-up"></i></div><footer class="mod-ft" id="footer"><div class="grid"><ul class="mod-ft-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="https://github.com/o2team/o2team.github.io" target="_blank"><i class="fa fa-github-alt"></i></a></li></ul><div class="mod-ft-sec mod-ft-copyright"><p>Designed by <a href="http://aotu.io" target="_blank">凹凸实验室</a> @<a target="_blank" href="http://jdc.jd.com">京东用户体验设计部</a></p><p>Copyright &copy; 2021. All Rights Reserved.</p><p><a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备15077732号-2</a></p></div></div></footer><script src="/js/bundle/core.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/post_wx_share.js"></script><script src="/js/bundle/gitalk.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e850b980d029480b092fdd7503c3f8de";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript" src="https://tajs.qq.com/stats?sId=53685723" charset="UTF-8"></script></body></html>